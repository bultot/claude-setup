# =============================================================================
# tmux.conf — Mobile-friendly tmux config for Claude Code VPS
# =============================================================================

# --- General settings --------------------------------------------------------

# 256-color terminal
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Large scrollback for long Claude Code outputs
set -g history-limit 50000

# Window/pane numbering from 1 (easier to reach on keyboard)
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Don't auto-rename windows (keep meaningful names)
setw -g automatic-rename off
set -g allow-rename off

# Faster escape time (better for vim/editors)
set -sg escape-time 10

# Enable focus events (useful for editors)
set -g focus-events on

# --- Mouse support (critical for mobile) ------------------------------------

set -g mouse on

# --- Mobile-friendly copy mode -----------------------------------------------

# Enter copy mode without prefix key — PageUp and F1
bind -n PageUp copy-mode -u
bind -n F1 copy-mode

# Vi-style keys in copy mode
setw -g mode-keys vi

# --- Status bar --------------------------------------------------------------

set -g status-position bottom
set -g status-interval 10

set -g status-style "bg=colour235,fg=colour248"

set -g status-left-length 30
set -g status-left "#[fg=colour39,bold] #h #[fg=colour245]│ "

set -g status-right-length 40
set -g status-right "#[fg=colour245]│ #[fg=colour248]%H:%M #[fg=colour245]│ #[fg=colour248]%d-%b"

# Window status
setw -g window-status-format " #I:#W "
setw -g window-status-current-format "#[fg=colour39,bold] #I:#W "

# --- Pane borders ------------------------------------------------------------

set -g pane-border-style "fg=colour238"
set -g pane-active-border-style "fg=colour39"

# --- Quality of life ---------------------------------------------------------

# Reload config with prefix-r
bind r source-file ~/.tmux.conf \; display "Config reloaded"

# Split panes with | and - (more intuitive)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# New window in current path
bind c new-window -c "#{pane_current_path}"
